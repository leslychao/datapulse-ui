<div class="page">
  <header class="page-header">
    <h1>Операторы</h1>
    <p class="muted">Управляйте доступом и ролями в аккаунте.</p>
  </header>

  <div class="card" *ngIf="accountId">
    <dp-invite-operator-form (invite)="inviteOperator($event)">
    </dp-invite-operator-form>
  </div>

  <div class="card" *ngIf="loading">
    <dp-loader label="Загружаем операторов..."></dp-loader>
  </div>
  <div class="card error" *ngIf="error">{{ error.message }}</div>

  <div class="card" *ngIf="!loading && !error">
    <dp-operators-table
      [operators]="operators"
      (blockToggle)="toggleBlock($event)"
      (changeRole)="changeRole($event)"
      (editAccess)="openAccessModal($event)"
    ></dp-operators-table>
  </div>

  <dp-access-modal
    [visible]="accessModalVisible"
    [member]="selectedMember"
    [connections]="connections"
    (close)="closeAccessModal()"
    (save)="saveAccess($event)"
  ></dp-access-modal>
</div>
