<dp-dashboard-shell
  [accountId]="accountId"
  title="Inventory & DoC"
  subtitle="Запасы, дни покрытия и складская динамика"
>
  <ng-container *ngIf="state$ | async as state">
    <dp-filter-bar [fields]="filters"></dp-filter-bar>
    <dp-metric-tile-group [tiles]="alerts" [state]="state.state"></dp-metric-tile-group>

    <div class="tabs">
      <button type="button" [class.is-active]="activeTab === 'warehouse'" (click)="setTab('warehouse')">
        By warehouse
      </button>
      <button type="button" [class.is-active]="activeTab === 'sku'" (click)="setTab('sku')">
        By SKU
      </button>
    </div>

    <dp-data-table-card
      *ngIf="activeTab === 'warehouse'"
      title="Inventory by warehouse"
      subtitle="Сводка по складам"
      [columns]="columnsByWarehouse"
      [rows]="[]"
      [state]="state.state"
      [accountId]="accountId"
      testId="inventory-warehouse-table"
    ></dp-data-table-card>

    <dp-data-table-card
      *ngIf="activeTab === 'sku'"
      title="Inventory by SKU"
      subtitle="Сводка по SKU"
      [columns]="columnsBySku"
      [rows]="[]"
      [state]="state.state"
      [accountId]="accountId"
      testId="inventory-sku-table"
    ></dp-data-table-card>

    <dp-chart-card
      title="Recommendations"
      subtitle="Панель рекомендаций"
      [state]="state.state"
      [accountId]="accountId"
    ></dp-chart-card>
  </ng-container>
</dp-dashboard-shell>
