<ng-container *ngIf="vm$ | async as vm">
  <dp-dashboard-shell
    [accountId]="vm.accountId"
    title="Returns & Buyout"
    subtitle="Возвраты, выкупы и влияние на P&L"
  >
    <dp-filter-bar [fields]="filters"></dp-filter-bar>
    <dp-metric-tile-group [tiles]="tiles" [state]="vm.state.state"></dp-metric-tile-group>

    <dp-chart-card
      title="Динамика"
      subtitle="Динамика возвратов"
      [state]="vm.state.state"
      [accountId]="vm.accountId"
    ></dp-chart-card>

    <dp-data-table-card
      title="Проблемные зоны"
      subtitle="Причины и влияние"
      [columns]="problemColumns"
      [rows]="[]"
      [state]="vm.state.state"
      [accountId]="vm.accountId"
      testId="returns-problems-table"
    ></dp-data-table-card>
  </dp-dashboard-shell>
</ng-container>
