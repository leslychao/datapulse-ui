<div class="page">
  <header class="page-header">
    <h1>Онбординг</h1>
    <p class="muted">Настройте рабочую область и подключите маркетплейсы.</p>
  </header>

  <div class="steps">
    <div class="step" [class.active]="step === 1">1. Аккаунт</div>
    <div class="step" [class.active]="step === 2">2. Подключение</div>
    <div class="step" [class.active]="step === 3">3. Синхронизация</div>
  </div>

  <div class="card" *ngIf="error">{{ error.message }}</div>
  <div class="card" *ngIf="loading">
    <dp-loader label="Выполняем действие..."></dp-loader>
  </div>

  <div class="card" *ngIf="step === 1">
    <dp-account-form (submitForm)="createAccount($event)"></dp-account-form>
  </div>

  <div class="card" *ngIf="step === 2 && accountId">
    <dp-connection-form
      [accountId]="accountId"
      (submitForm)="createConnection($event)"
    ></dp-connection-form>
  </div>

  <div class="card" *ngIf="step === 3">
    <dp-sync-status [status]="syncStatus"></dp-sync-status>
    <dp-button type="button" variant="primary" (click)="goToDashboard()">
      Перейти в обзор
    </dp-button>
  </div>
</div>
